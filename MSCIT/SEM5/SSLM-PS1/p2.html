<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Validation Form</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .error { color: red; font-size: 13px; }
  </style>
</head>
<body>
  <div class="container my-5">
    <h2 class="mb-4">Validation Form</h2>
    <form id="extendedForm" enctype="multipart/form-data" novalidate>

      <div class="mb-3">
        <label for="username" class="form-label">Username</label>
        <input type="text" id="username" class="form-control" />
        <div class="error" id="usernameError"></div>
      </div>

      <div class="mb-3">
        <label for="website" class="form-label">Website URL</label>
        <input type="url" id="website" class="form-control" />
        <div class="error" id="websiteError"></div>
      </div>

      <div class="mb-3">
        <label for="pincode" class="form-label">Pincode / Zip Code</label>
        <input type="number" id="pincode" class="form-control" />
        <div class="error" id="pincodeError"></div>
      </div>

      <div class="mb-3">
        <label for="bio" class="form-label">Bio / About</label>
        <textarea id="bio" maxlength="250" class="form-control"></textarea>
        <div class="error" id="bioError"></div>
      </div>

      <div class="mb-3">
        <label for="salary" class="form-label">Salary Expectation (₹20,000 - ₹2,00,000)</label>
        <input type="range" id="salary" min="20000" max="200000" step="1000" class="form-range" />
        <span id="salaryValue">₹20,000</span>
        <div class="error" id="salaryError"></div>
      </div>

      <div class="mb-3">
        <label for="contactTime" class="form-label">Preferred Contact Time</label>
        <input type="time" id="contactTime" class="form-control" />
        <div class="error" id="contactTimeError"></div>
      </div>

      <div class="mb-3">
        <label for="resume" class="form-label">Resume Upload</label>
        <input type="file" id="resume" accept=".pdf,.doc,.docx" class="form-control" />
        <div class="error" id="resumeError"></div>
      </div>

      <div class="mb-3">
        <label for="languages" class="form-label">Programming Languages</label>
        <select id="languages" class="form-select" multiple>
          <option value="js">JavaScript</option>
          <option value="python">Python</option>
          <option value="java">Java</option>
          <option value="cpp">C++</option>
          <option value="go">Go</option>
        </select>
        <div class="form-text">Hold Ctrl (or Cmd) to select multiple</div>
        <div class="error" id="languagesError"></div>
      </div>

      <div class="mb-3">
        <label for="employeeId" class="form-label">Employee ID (Format: EMP-1234)</label>
        <input type="text" id="employeeId" class="form-control" />
        <div class="error" id="employeeIdError"></div>
      </div>

      <div class="mb-3">
        <label for="referral" class="form-label">Referral Code (Optional: 6 alphanumeric uppercase)</label>
        <input type="text" id="referral" class="form-control" />
        <div class="error" id="referralError"></div>
      </div>

      <button type="submit" class="btn btn-primary">Submit</button>
    </form>
  </div>

  <script>
    const form = document.getElementById("extendedForm");

    form.addEventListener("submit", function (e) {
      e.preventDefault();
      let valid = true;

      const setError = (id, message) => {
        document.getElementById(id).textContent = message;
        valid = false;
      };
      const clearError = (id) => document.getElementById(id).textContent = "";

      // Username
      const username = document.getElementById("username").value.trim();
      if (!/^[A-Za-z0-9]{4,}$/.test(username)) {
        setError("usernameError", "Min 4 characters, alphanumeric, no spaces.");
      } else clearError("usernameError");

      // Website
      const website = document.getElementById("website").value.trim();
      if (website && !/^https?:\/\/[^\s$.?#].[^\s]*$/.test(website)) {
        setError("websiteError", "Enter a valid URL (starting with http/https).");
      } else clearError("websiteError");

      // Pincode
      const pincode = document.getElementById("pincode").value;
      if (!/^\d{6}$/.test(pincode)) {
        setError("pincodeError", "Must be exactly 6 digits.");
      } else clearError("pincodeError");

      // Bio
      const bio = document.getElementById("bio").value;
      if (bio.length > 250) {
        setError("bioError", "Max 250 characters allowed.");
      } else clearError("bioError");

      // Salary
      const salary = parseInt(document.getElementById("salary").value);
      document.getElementById("salaryValue").textContent = `₹${salary.toLocaleString()}`;
      if (isNaN(salary) || salary < 20000 || salary > 200000) {
        setError("salaryError", "Must be between ₹20,000 and ₹2,00,000.");
      } else clearError("salaryError");

      // Contact Time
      const time = document.getElementById("contactTime").value;
      if (!time || time < "09:00" || time > "18:00") {
        setError("contactTimeError", "Time must be between 09:00 and 18:00.");
      } else clearError("contactTimeError");

      // Resume
      const resume = document.getElementById("resume").files[0];
      if (!resume) {
        setError("resumeError", "Upload your resume.");
      } else if (!/\.(pdf|docx?)$/i.test(resume.name)) {
        setError("resumeError", "Only PDF or DOC/DOCX files allowed.");
      } else if (resume.size > 5 * 1024 * 1024) {
        setError("resumeError", "Max file size is 5MB.");
      } else clearError("resumeError");

      // Languages
      const selectedLangs = Array.from(document.getElementById("languages").selectedOptions);
      if (selectedLangs.length < 2) {
        setError("languagesError", "Select at least two languages.");
      } else clearError("languagesError");

      // Employee ID
      const empId = document.getElementById("employeeId").value.trim();
      if (!/^EMP-\d{4}$/.test(empId)) {
        setError("employeeIdError", "Format must be EMP-XXXX (digits only).");
      } else clearError("employeeIdError");

      // Referral Code
      const referral = document.getElementById("referral").value.trim();
      if (referral && !/^[A-Z0-9]{6}$/.test(referral)) {
        setError("referralError", "Must be 6 uppercase alphanumeric characters.");
      } else clearError("referralError");

      // Final Submit
      if (valid) {
        alert("Form is valid and ready to be submitted!");
        // Optional: Submit via fetch/AJAX or reset form
        // form.submit();
      }
    });
  </script>

  <!-- Bootstrap JS (optional for features like dropdowns, modals) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
