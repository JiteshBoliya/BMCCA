<!DOCTYPE html>
<html>
<head>
    <title>Registration Form</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <style>
        .error {
            border-color: #dc3545 !important;
        }
        .success-message {
            margin-top: 20px;
        }
    </style>
</head>
<body class="p-4">

<div class="container">
    <h2 class="mb-4 text-center">Registration Form</h2>

    <form id="regForm" novalidate>
        <!-- Name -->
        <div class="mb-3">
            <label for="name" class="form-label">Name:</label>
            <input type="text" class="form-control" id="name" placeholder="Enter your name">
        </div>

        <!-- Email -->
        <div class="mb-3">
            <label for="email" class="form-label">Email:</label>
            <input type="email" class="form-control" id="email" placeholder="Enter your email">
        </div>

        <!-- Mobile -->
        <div class="mb-3">
            <label for="mobile" class="form-label">Mobile:</label>
            <input type="text" class="form-control" id="mobile" placeholder="10-digit mobile number">
        </div>

        <!-- Gender -->
        <div class="mb-3">
            <label class="form-label">Gender:</label><br>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="gender" id="male" value="Male">
                <label class="form-check-label" for="male">Male</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="gender" id="female" value="Female">
                <label class="form-check-label" for="female">Female</label>
            </div>
        </div>

        <!-- Hobbies -->
        <div class="mb-3">
            <label class="form-label">Hobbies:</label><br>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="checkbox" name="hobbies" id="reading" value="Reading">
                <label class="form-check-label" for="reading">Reading</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="checkbox" name="hobbies" id="sports" value="Sports">
                <label class="form-check-label" for="sports">Sports</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="checkbox" name="hobbies" id="music" value="Music">
                <label class="form-check-label" for="music">Music</label>
            </div>
        </div>

        <!-- City -->
        <div class="mb-3">
            <label for="city" class="form-label">City:</label>
            <select class="form-select" id="city">
                <option value="">Select City</option>
                <option value="Mumbai">Mumbai</option>
                <option value="Delhi">Delhi</option>
                <option value="Bangalore">Bangalore</option>
                <option value="Chennai">Chennai</option>
            </select>
        </div>

        <button type="submit" class="btn btn-primary">Register</button>
    </form>

    <div id="successMessage" class="alert alert-success success-message d-none"></div>
</div>

<script>
    // event object to handle form submission
    document.getElementById("regForm").addEventListener("submit", function(event) {
        // prevent form submission
        event.preventDefault(); 

        // Remove previous error styles
        const inputs = document.querySelectorAll(".form-control, .form-select");

        // arrow function (=>) to remove error class 
        inputs.forEach(input => input.classList.remove("error"));

        let isValid = true;

        // Name validation
        // trim() removes whitespace from both ends of a string
        const name = document.getElementById("name").value.trim();
        if(name.length < 2){
            document.getElementById("name").classList.add("error");
            isValid = false;
        }

        // Email validation
        const email = document.getElementById("email").value.trim();
        if(!email.includes("@") || !email.includes(".")){
            document.getElementById("email").classList.add("error");
            isValid = false;
        }

        // Mobile validation
        const mobile = document.getElementById("mobile").value.trim();
        // regular expression for 10-digit number
        const mobileRegex = /^\d{10}$/;
        if(!mobileRegex.test(mobile)){
            document.getElementById("mobile").classList.add("error");
            isValid = false;
        }

        // Gender validation
        // input[name="gender"]:checked selects the checked radio button
        const gender = document.querySelector('input[name="gender"]:checked');
        if(!gender){
            isValid = false;
            alert("Please select gender.");
        }

        // Hobbies validation
        const hobbies = document.querySelectorAll('input[name="hobbies"]:checked');
        if(hobbies.length === 0){
            isValid = false;
            alert("Please select at least one hobby.");
        }

        // City validation
        const city = document.getElementById("city").value;
        if(city === ""){
            document.getElementById("city").classList.add("error");
            isValid = false;
        }

        // If valid, show success message
        if(isValid){
            let hobbyList = [];
            // push used for adding elements to array
            hobbies.forEach(h => hobbyList.push(h.value));

            // ${variable} used for string interpolation
            const message = `
                <h4>Registration Successful!</h4>
                <p><strong>Name:</strong> ${name}</p>
                <p><strong>Email:</strong> ${email}</p>
                <p><strong>Mobile:</strong> ${mobile}</p>
                <p><strong>Gender:</strong> ${gender.value}</p>
                <p><strong>Hobbies:</strong> ${hobbyList.join(", ")}</p>
                <p><strong>City:</strong> ${city}</p>
            `;
            const successDiv = document.getElementById("successMessage");
            successDiv.innerHTML = message;
            successDiv.classList.remove("d-none");

            // Optional: Reset the form
            document.getElementById("regForm").reset();
        }
    });
</script>

</body>
</html>
